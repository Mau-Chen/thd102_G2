<!DOCTYPE html>
<html lang="zh-Hant">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  @@include('layout/meta.html')
  <link rel="stylesheet" href="./css/style.css" />
  <title>Go會員 | PetpaGo</title>
</head>

<body>
  <div class="wrapper bg_gray">
    @@include('layout/header.html')

    <main class="container member-main" id="order">
      <div class="slide-bar col-2 col-lg-3 col-sm-12">
        <img class="member-photo" src="./images/icon/member-icon/user-member.svg" alt="userIcon" />

        <ul>
          <!-- 訂單 -->
          <li>
            <a href="#" data-target="order" :class="index === 0 ? 'on_page' : ''" @click="changePage(0)">
              <!-- 加入 id="on_page"  icon, 文字換色-->
              <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_1450_8637)">
                  <path fill="currentColor"
                    d="M20 22H4C3.73478 22 3.48043 21.8946 3.29289 21.7071C3.10536 21.5196 3 21.2652 3 21V3C3 2.73478 3.10536 2.48043 3.29289 2.29289C3.48043 2.10536 3.73478 2 4 2H20C20.2652 2 20.5196 2.10536 20.7071 2.29289C20.8946 2.48043 21 2.73478 21 3V21C21 21.2652 20.8946 21.5196 20.7071 21.7071C20.5196 21.8946 20.2652 22 20 22ZM19 20V4H5V20H19ZM8 7H16V9H8V7ZM8 11H16V13H8V11ZM8 15H13V17H8V15Z" />
                </g>
                <defs>
                  <clipPath id="clip0_1450_8637">
                    <rect width="24" height="24" fill="white" />
                  </clipPath>
                </defs>
              </svg>
              訂單記錄
            </a>
          </li>
          <!-- 點數 -->
          <li>
            <a href="#" data-target="order2" :class="index === 1 ? 'on_page' : ''" @click="changePage(1)">
              <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg%22%3E">
                <path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"
                  d="M20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12ZM22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM15.4388 11.8629C15.6521 11.4743 15.7588 11.0476 15.7588 10.5829C15.7588 10.08 15.6483 9.63428 15.4274 9.24571C15.2064 8.85714 14.875 8.55238 14.4331 8.33143C13.9912 8.11048 13.4502 8 12.8102 8H9.64453V16.0229H11.5988V13.1429H12.8102C13.4655 13.1429 14.0141 13.0248 14.456 12.7886C14.8979 12.5524 15.2255 12.2438 15.4388 11.8629ZM13.496 11.3257C13.3131 11.5009 13.035 11.5886 12.6617 11.5886H11.5988V9.57714H12.6617C13.035 9.57714 13.3131 9.66476 13.496 9.84C13.6788 10.0152 13.7702 10.2629 13.7702 10.5829C13.7702 10.9029 13.6788 11.1505 13.496 11.3257Z" />
              </svg>
              我的點數
            </a>
          </li>
          <!-- 貼文 -->
          <li>
            <a href="#" data-target="order3" :class="index === 2 ? 'on_page' : ''" @click="changePage(2)">
              <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path fill="currentColor"
                  d="M5 11.1L7 9.1L12.5 14.6L16 11.1L19 14.1V5H5V11.1ZM5 13.929V19H8.1L11.086 16.015L7 11.929L5 13.929ZM10.929 19H19V16.929L16 13.929L10.929 19ZM4 3H20C20.2652 3 20.5196 3.10536 20.7071 3.29289C20.8946 3.48043 21 3.73478 21 4V20C21 20.2652 20.8946 20.5196 20.7071 20.7071C20.5196 20.8946 20.2652 21 20 21H4C3.73478 21 3.48043 20.8946 3.29289 20.7071C3.10536 20.5196 3 20.2652 3 20V4C3 3.73478 3.10536 3.48043 3.29289 3.29289C3.48043 3.10536 3.73478 3 4 3V3ZM15.5 10C15.1022 10 14.7206 9.84196 14.4393 9.56066C14.158 9.27936 14 8.89782 14 8.5C14 8.10218 14.158 7.72064 14.4393 7.43934C14.7206 7.15804 15.1022 7 15.5 7C15.8978 7 16.2794 7.15804 16.5607 7.43934C16.842 7.72064 17 8.10218 17 8.5C17 8.89782 16.842 9.27936 16.5607 9.56066C16.2794 9.84196 15.8978 10 15.5 10V10Z" />
              </svg>
              我的貼文
            </a>
          </li>
          <!-- 個人資料 -->
          <li>
            <a href="#" data-target="order4" :class="index === 3 ? 'on_page' : ''" @click="changePage(3), Secondary()">
              <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_1450_8647)">
                  <path fill="currentColor"
                    d="M2 12.0001C2 11.1351 2.11 10.2971 2.316 9.49606C2.86847 9.5251 3.4182 9.40081 3.90444 9.13693C4.39068 8.87305 4.79448 8.47985 5.07121 8.00081C5.34793 7.52176 5.48681 6.97553 5.47247 6.42248C5.45814 5.86944 5.29117 5.33113 4.99 4.86706C6.19894 3.67763 7.69079 2.81556 9.325 2.36206C9.57599 2.85553 9.95864 3.26993 10.4306 3.55937C10.9025 3.84881 11.4454 4.00202 11.999 4.00202C12.5526 4.00202 13.0955 3.84881 13.5674 3.55937C14.0394 3.26993 14.422 2.85553 14.673 2.36206C16.3072 2.81556 17.7991 3.67763 19.008 4.86706C18.7065 5.33121 18.5393 5.86973 18.5248 6.42303C18.5104 6.97632 18.6493 7.52283 18.9262 8.00207C19.2031 8.48132 19.6071 8.87463 20.0937 9.13848C20.5802 9.40232 21.1303 9.52643 21.683 9.49706C21.889 10.2971 21.999 11.1351 21.999 12.0001C21.999 12.8651 21.889 13.7031 21.683 14.5041C21.1305 14.4748 20.5806 14.599 20.0942 14.8628C19.6078 15.1266 19.2039 15.5198 18.927 15.9988C18.6502 16.4779 18.5112 17.0242 18.5255 17.5774C18.5398 18.1305 18.7068 18.6689 19.008 19.1331C17.7991 20.3225 16.3072 21.1846 14.673 21.6381C14.422 21.1446 14.0394 20.7302 13.5674 20.4408C13.0955 20.1513 12.5526 19.9981 11.999 19.9981C11.4454 19.9981 10.9025 20.1513 10.4306 20.4408C9.95864 20.7302 9.57599 21.1446 9.325 21.6381C7.69079 21.1846 6.19894 20.3225 4.99 19.1331C5.29151 18.6689 5.45873 18.1304 5.47317 17.5771C5.48761 17.0238 5.3487 16.4773 5.07181 15.998C4.79492 15.5188 4.39085 15.1255 3.90431 14.8616C3.41776 14.5978 2.8677 14.4737 2.315 14.5031C2.11 13.7041 2 12.8661 2 12.0001ZM6.804 15.0001C7.434 16.0911 7.614 17.3461 7.368 18.5241C7.776 18.8141 8.21 19.0651 8.665 19.2741C9.58167 18.4529 10.7693 17.9992 12 18.0001C13.26 18.0001 14.438 18.4711 15.335 19.2741C15.79 19.0651 16.224 18.8141 16.632 18.5241C16.3794 17.32 16.5803 16.0651 17.196 15.0001C17.8106 13.9344 18.797 13.1332 19.966 12.7501C20.0122 12.2511 20.0122 11.749 19.966 11.2501C18.7966 10.8671 17.8099 10.0659 17.195 9.00006C16.5793 7.93499 16.3784 6.6801 16.631 5.47606C16.2231 5.18598 15.7889 4.93488 15.334 4.72606C14.4176 5.54699 13.2303 6.00067 12 6.00006C10.7693 6.00092 9.58167 5.54722 8.665 4.72606C8.21013 4.93488 7.77589 5.18599 7.368 5.47606C7.62056 6.6801 7.41972 7.93499 6.804 9.00006C6.18937 10.0657 5.20298 10.8669 4.034 11.2501C3.98775 11.749 3.98775 12.2511 4.034 12.7501C5.20335 13.133 6.19013 13.9342 6.805 15.0001H6.804ZM12 15.0001C11.2044 15.0001 10.4413 14.684 9.87868 14.1214C9.31607 13.5588 9 12.7957 9 12.0001C9 11.2044 9.31607 10.4413 9.87868 9.87874C10.4413 9.31613 11.2044 9.00006 12 9.00006C12.7956 9.00006 13.5587 9.31613 14.1213 9.87874C14.6839 10.4413 15 11.2044 15 12.0001C15 12.7957 14.6839 13.5588 14.1213 14.1214C13.5587 14.684 12.7956 15.0001 12 15.0001ZM12 13.0001C12.2652 13.0001 12.5196 12.8947 12.7071 12.7072C12.8946 12.5196 13 12.2653 13 12.0001C13 11.7348 12.8946 11.4805 12.7071 11.293C12.5196 11.1054 12.2652 11.0001 12 11.0001C11.7348 11.0001 11.4804 11.1054 11.2929 11.293C11.1054 11.4805 11 11.7348 11 12.0001C11 12.2653 11.1054 12.5196 11.2929 12.7072C11.4804 12.8947 11.7348 13.0001 12 13.0001V13.0001Z" />
                </g>
                <defs>
                  <clipPath id="clip0_1450_8647">
                    <rect width="24" height="24" fill="white" />
                  </clipPath>
                </defs>
              </svg>
              個人資料
            </a>
          </li>
        </ul>

        <button class="btn_4_border" id="MemberlogOut">登出</button>
      </div>

      <div class="member-box col-10 col-lg-9 col-sm-12 mr-bg">
        <!------------ 訂單紀錄 listBody ------------>
        <!-- 使用 vue 渲染 -->
        <template v-if="index === 0">
          <ul>
            <div v-if="tasks.length === 0" class="order2">
              <div class="kite order2">
                <div class="kite-flex">
                  <img src="./images/icon/member-icon/nolist.svg" alt="" />
                  <h5>尚無訂單</h5>
                </div>
              </div>
            </div>
            <div v-else>
              <list :tasks="tasks" ref="list"></list>
            </div>
          </ul>
        </template>



        <!-- memberPoints -->
        <template v-if="index === 1">
          <div id="order2" class="order2">
            <h5 class="mb_24">我的點數</h5>
            <div class="points-use mb_24">
              <h6>會員點數如何用?</h6>
              <p>
                於PetpaGo進行消費，每100元將回饋1點 Pet
                Point可於下次預訂時折抵訂單總金額，1點可折抵新台幣1元每筆訂單最多可折抵總金額的20%
              </p>
            </div>
            <div class="table-wrap">
              <table>
                <thead>
                  <tr>
                    <th>訂單編號</th>
                    <th>日期</th>
                    <th>總金額</th>
                    <th>獲得點數</th>
                  </tr>
                </thead>
                <tbody>
                  <tr v-for="(item, index) in tasks" :key="index">
                    <td>{{ item.OrderId }}</td>
                    <td>{{ item.OrderDate }}</td>
                    <td>NT${{ item.OrderList.map(o => +o.price).reduce((p, c) => p + c).toLocaleString('en-US') }}</td>
                    <td>{{ Math.floor(item.OrderList.map(o => +o.price).reduce((p, c) => p + c) * 0.01) }}</td>
                  </tr>
                </tbody>

              </table>
            </div>
          </div>
        </template>



        <!-- memberPost -->
        <template v-if="index === 2">
          <div class="order2">
            <h5 class="mb_24">我的貼文</h5>
            <div class="post-info">
              <div class="">
                <p>發文</p>
              </div>
              <div class="">
                <p>日期</p>
              </div>
            </div>

            <div class="post-detail">
              <a href="#img1" style="display:block">
                <img src="./images/pic/member/member-post01.png" alt="photo01" />
              </a>
              <a href="#" class="lightbox" id="img1">
                <span style="background-image: url('./images/pic/member/member-big post01.jpg');"></span>
              </a>
              <div class="post-date-delete">
                <div class="post-date">
                  <p>2023年8月4日</p>
                </div>
                <div class="post-delete">
                  <img src="./images/icon/shop-icon/delete.svg" alt="delete" />
                </div>
              </div>
            </div>

            <div class="post-detail">
              <a href="#img2" style="display:block">
                <img src="./images/pic/member/member-post02.png" alt="photo02" />
              </a>
              <a href="#" class="lightbox" id="img2">
                <span style="background-image: url('./images/pic/member/member-big post02.jpg');"></span>
              </a>
              <div class="post-date-delete">
                <div class="post-date">
                  <p>2023年8月4日</p>
                </div>
                <div class="post-delete">
                  <img src="./images/icon/shop-icon/delete.svg" alt="delete" />
                </div>
              </div>
            </div>

            <div class="post-detail">
              <a href="#img3" style="display:block">
                <img src="./images/pic/member/member-post03.png" alt="photo03" />
              </a>
              <a href="#" class="lightbox" id="img3">
                <span style="background-image: url('./images/pic/member/member-big post03.jpg');"></span>
              </a>
              <div class="post-date-delete">
                <div class="post-date">
                  <p>2023年8月4日</p>
                </div>
                <div class="post-delete">
                  <img src="./images/icon/shop-icon/delete.svg" alt="delete" />
                </div>
              </div>
            </div>

            <div class="post-detail">
              <a href="#img4" style="display:block">
                <img src="./images/pic/member/member-post04.png" alt="photo04" />
              </a>
              <a href="#" class="lightbox" id="img4">
                <span style="background-image: url('./images/pic/member/member-big post04.jpg');"></span>
              </a>
              <div class="post-date-delete">
                <div class="post-date">
                  <p>2023年8月4日</p>
                </div>
                <div class="post-delete">
                  <img src="./images/icon/shop-icon/delete.svg" alt="delete" />
                </div>
              </div>
            </div>
          </div>
        </template>

        <!-- memberSetting -->
        <template v-if="index === 3">
          <div class="order2">
            <h5 class="">個人資料</h5>
            <!-- 個人資料帶入 -->
            <form action="./thd102/g2/php/Member/setting.php" method="post" class="personal-info">
              <div class="pi-box">
                <div class="pi-box-half">
                  <label for="">姓名</label>
                  <input type="text" name="name" v-model="userData.NAME" placeholder="請輸入姓名" />
                </div>
                <div class="pi-box-half">
                  <label for="">行動電話</label>
                  <input type="text" name="phone" v-model="userData.PHONE" placeholder="請輸入行動電話" />
                </div>
              </div>
              <div class="pi-box">
                <div class="pi-box-half">
                  <label for="">電子信箱</label>
                  <input class="email-bg" type="text" v-model="token" placeholder="service@tibame.com" disabled
                    id="email" />
                </div>
                <div class="pi-box-half">
                  <label for="">出生日期</label>
                  <input type="date" name="brd" v-model="userData.BRD" placeholder="請選擇" id="myDateInput" />
                </div>
              </div>

              <div class="pi-box">
                <div class="pi-box-half col-12">
                  <label for="">地址</label>
                  <input type="text" name="add" v-model="userData.ADDRESS" placeholder="請輸入地址" id="add" />
                </div>
              </div>

              <button type="button" class="btn_5" @click="updateData">更新資訊</button>
            </form>
            <!-- </div> -->
          </div>
        </template>

      </div>
    </main>
    @@include('layout/footer.html')
  </div>
  @@include('layout/metaJs.html')
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script type="module" src="./js/memberOrder.js"></script>
  <!-- <script src="./js/member_page.js"></script> -->
  <!-- <script src="./js/memberForm.js"></script> -->
</body>

</html>